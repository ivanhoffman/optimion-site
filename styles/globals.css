@tailwind base;
@tailwind components;
@tailwind utilities;

/* ---------- Global background (one layer, fixed) ---------- */
:root{
  --page-gradient: linear-gradient(
    180deg,
    #000 0%,
    #060606 22%,
    #0b0b0b 50%,
    #080808 78%,
    #000 100%
  );
}

/* Prefer dark UI chrome (affects default scrollbar/form UI) */
html { color-scheme: dark; }

/* Basic root sizing */
html, body { height: 100%; margin: 0; padding: 0; }

body{
  background: #000;
  color: #ededed;
  font-family: Arial, Helvetica, sans-serif;
  overflow-x: hidden;
  position: relative;
}

/* Fixed gradient behind everything = no section seams */
body::before{
  content:"";
  position: fixed;
  inset: 0;
  z-index: -1;
  background: var(--page-gradient);
  pointer-events: none;
}

/* Remove any accidental backgrounds from wrappers */
#__next, main{ background: transparent !important; }

/* Sections are transparent so the global gradient shows through */
section{ background: transparent; position: relative; }

/* Fade the *content* of each section at the top/bottom into the page gradient. */
.section-fade{
  /* desktop/tablet fade */
  -webkit-mask-image: linear-gradient(to bottom, transparent 0, #000 56px, #000 calc(100% - 56px), transparent 100%);
          mask-image: linear-gradient(to bottom, transparent 0, #000 56px, #000 calc(100% - 56px), transparent 100%);
  -webkit-mask-repeat: no-repeat;
          mask-repeat: no-repeat;
}

/* --- Mobile hardening --- */
html, body {
  max-width: 100%;
  overflow-x: hidden;
  overscroll-behavior-x: none;
}

/* keep media from overflowing the viewport */
img, svg, canvas, video {
  max-width: 100%;
  height: auto;
}

/* Hide “heavy” visuals on phones (ids used in components) */
@media (max-width: 767px) {
  /* Disable the section fade on iOS/phones to prevent scroll “sticking” */
  .section-fade{
    -webkit-mask-image: none !important;
            mask-image: none !important;
  }

  #hero-visual,
  #process-flowchart {
    display: none !important;
  }
}

/* ===== Kill accidental inner scrollbars (all sizes) ===== */
html, body { overflow-x: hidden; }

/* Never let sections or the main wrapper create their own y-scrollbars */
#main,
#main > section,
.section-fade {
  overflow-y: visible !important;
}

/* Some browsers give inline SVGs their own scrollbars when filters extend */
svg { overflow: visible; }

/* ---------- One true scroller on DESKTOP ---------- */
/* Make BODY the only vertical scroll container on desktop to prevent the phantom extra scrollbar */
@media (min-width: 768px) {
  /* 1) Disable scrolling on the root element */
  html { overflow-y: hidden !important; }

  /* 2) Make body the scroller and lock it to the viewport height */
  body {
    height: 100vh;                    /* body forms the scrollport */
    overflow-y: auto !important;
    -webkit-overflow-scrolling: touch; /* smooth scrolling on WebKit */
  }

  /* 3) Ensure app wrappers expand rather than scroll */
  #__next,
  main,
  #main {
    height: auto !important;
    max-height: none !important;
    overflow-y: visible !important;
  }

  /* 4) Guard: neutralize any unexpected sibling wrapper the host may inject */
  body > div:not(#__next) {
    height: auto !important;
    max-height: none !important;
    overflow-y: visible !important;
  }

  /* ---------- Custom dark scrollbar (Chromium/Safari) ---------- */
  body::-webkit-scrollbar { width: 12px; height: 12px; }
  body::-webkit-scrollbar-track { background: transparent; }
  body::-webkit-scrollbar-thumb {
    background: linear-gradient(180deg, #22d3ee 0%, #8b5cf6 50%, #ec4899 100%);
    border-radius: 999px;
    border: 3px solid rgba(0,0,0,.6); /* dark gap around thumb */
  }
  body::-webkit-scrollbar-thumb:hover { filter: brightness(1.05); }
  body::-webkit-scrollbar-corner { background: transparent; }
}

/* Firefox scrollbar */
@supports (scrollbar-color: auto) {
  html {
    scrollbar-width: thin;
    scrollbar-color: #5b5b5b transparent; /* thumb | track */
  }
}

/* Gradient text utility (unchanged) */
.gradient-text{
  background-image: linear-gradient(to bottom, #999, #fff);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}
